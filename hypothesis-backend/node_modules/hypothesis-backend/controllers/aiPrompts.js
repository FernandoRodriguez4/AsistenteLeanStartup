// ===== aiPrompts.js - Todos los prompts específicos preservados =====

const specificPrompts = {
  construir: {
    'MVP Personalizado': `
      Para el artefacto "MVP Personalizado", desarrolla los siguientes puntos específicos:
      
      1. CARACTERÍSTICAS CRÍTICAS DEL MVP:
         - Identifica 3-7 características esenciales que DEBEN estar en el MVP
         - Explica por qué cada característica es crítica para validar la hipótesis principal
         - Describe las funcionalidades mínimas de cada característica
         - Señala qué características pueden dejarse para iteraciones futuras y por qué
      
      2. PLAN DE DESARROLLO:
         - Cronograma detallado con fases específicas y duraciones estimadas
         - Recursos necesarios (técnicos, humanos, financieros)
         - Metodología de desarrollo recomendada considerando las limitaciones
         - Tecnologías o frameworks sugeridos para desarrollar el MVP rápidamente
      
      3. DISEÑO DE EXPERIMENTOS:
         - Diseña 2-3 experimentos específicos para validar las asunciones más críticas
         - Define métricas de éxito cuantificables para cada experimento
         - Establece umbrales de éxito/fracaso claros para cada métrica`,
    
    'Mapa de Empatía Personalizado': `
      Para el "Mapa de Empatía Personalizado", desarrolla:
      
      1. PERFIL DETALLADO DEL CLIENTE:
         - ¿Qué PIENSA y SIENTE? Sus preocupaciones principales, aspiraciones, miedos
         - ¿Qué OYE? Influencias, medios que consume, opiniones que recibe
         - ¿Qué VE? Su entorno, competencia, opciones disponibles
         - ¿Qué DICE y HACE? Comportamiento público, actitud, apariencia
      
      2. PUNTOS DE DOLOR ESPECÍFICOS:
         - Lista 5-7 frustraciones principales relacionadas con el problema
         - Prioriza por intensidad e impacto en su vida diaria
      
      3. GANANCIAS DESEADAS:
         - ¿Qué desea lograr realmente?
         - ¿Cómo mediría el éxito desde su perspectiva?`,
    
    'Backlog de Funcionalidades': `
      Para el "Backlog de Funcionalidades", estructura:
      
      1. ÉPICAS PRINCIPALES:
         - Define 3-5 épicas que representen las áreas principales del producto
         - Para cada épica, explica su valor de negocio
      
      2. USER STORIES PRIORITIZADAS:
         - Escribe 10-15 user stories siguiendo el formato: "Como [usuario], quiero [funcionalidad], para [beneficio]"
         - Asigna puntos de historia basados en complejidad
         - Ordena por valor vs esfuerzo
      
      3. CRITERIOS DE ACEPTACIÓN:
         - Para las 5 historias principales, define criterios claros de aceptación
         - Incluye casos edge y consideraciones técnicas`,
    
    'Experimentos de Validación': `
      Para "Experimentos de Validación", diseña:
      
      1. EXPERIMENTO DE PROBLEMA:
         - Hipótesis específica sobre el problema
         - Método de validación (entrevistas, encuestas, observación)
         - Tamaño de muestra y criterios de selección
         - Preguntas o métricas específicas
         - Criterio de éxito/fracaso
      
      2. EXPERIMENTO DE SOLUCIÓN:
         - Prototipo o mockup a utilizar
         - Métricas de engagement a medir
         - Método de recolección de datos
         - Timeline del experimento
      
      3. EXPERIMENTO DE MODELO DE NEGOCIO:
         - Test de disposición a pagar
         - Canales de adquisición a probar
         - Métricas de unit economics objetivo`,
    
    'Plan de Recursos': `
      Para el "Plan de Recursos", detalla:
      
      1. RECURSOS HUMANOS:
         - Roles críticos necesarios y cuándo incorporarlos
         - Habilidades específicas requeridas
         - Opciones de contratación (tiempo completo, freelance, cofundadores)
      
      2. RECURSOS TÉCNICOS:
         - Stack tecnológico recomendado y justificación
         - Herramientas y servicios necesarios
         - Costos estimados mensuales
      
      3. RECURSOS FINANCIEROS:
         - Presupuesto para los primeros 6 meses
         - Burn rate objetivo
         - Hitos para buscar financiamiento`,
    
    'Estrategia de Early Adopters': `
      Para la "Estrategia de Early Adopters", desarrolla:
      
      1. PERFIL DEL EARLY ADOPTER:
         - Características psicográficas específicas
         - Dónde encontrarlos (online y offline)
         - Qué los motiva a probar soluciones nuevas
      
      2. CANALES DE ADQUISICIÓN:
         - Top 3 canales más efectivos para alcanzarlos
         - Mensajes específicos para cada canal
         - Presupuesto y ROI esperado por canal
      
      3. PROGRAMA DE ONBOARDING:
         - Experiencia del primer uso
         - Incentivos para early adopters
         - Sistema de referidos`
  },
  
  medir: {
    'Framework de KPIs Personalizado': `
      Para el "Framework de KPIs Personalizado", establece:
      
      1. MÉTRICAS NORTH STAR:
         - Define LA métrica principal que indica éxito
         - Explica por qué esta métrica sobre todas las demás
         - Cómo se calcula exactamente
      
      2. MÉTRICAS SECUNDARIAS:
         - 5-7 KPIs que alimentan la métrica North Star
         - Para cada una: definición, fórmula, frecuencia de medición
         - Benchmarks de la industria si están disponibles
      
      3. MÉTRICAS DE SALUD:
         - Indicadores de problemas potenciales
         - Umbrales de alerta
         - Plan de acción si se cruzan los umbrales`,
    
    'Plan de Analítica': `
      Para el "Plan de Analítica", especifica:
      
      1. ARQUITECTURA DE DATOS:
         - Eventos críticos a trackear
         - Propiedades de usuarios y eventos
         - Herramientas de analytics recomendadas
      
      2. DASHBOARDS PRINCIPALES:
         - Dashboard ejecutivo: métricas clave
         - Dashboard operacional: métricas diarias
         - Dashboard de producto: comportamiento de usuarios
      
      3. PROCESOS DE ANÁLISIS:
         - Rutina semanal de revisión de métricas
         - Análisis mensual profundo
         - Experimentos continuos`,
    
    'Diseño de Tests A/B': `
      Para el "Diseño de Tests A/B", estructura:
      
      1. PRIORIZACIÓN DE TESTS:
         - Lista de 10 posibles tests ordenados por impacto potencial
         - Para los top 3: hipótesis, variantes, métricas objetivo
      
      2. DISEÑO ESTADÍSTICO:
         - Tamaño de muestra necesario
         - Duración estimada del test
         - Nivel de confianza y poder estadístico
      
      3. PLAN DE IMPLEMENTACIÓN:
         - Roadmap de tests para 3 meses
         - Recursos necesarios
         - Proceso de documentación de resultados`,
    
    'Embudo de Conversión': `
      Para el "Embudo de Conversión", detalla:
      
      1. ETAPAS DEL EMBUDO:
         - Define cada etapa desde awareness hasta retención
         - Acciones específicas del usuario en cada etapa
         - Tasas de conversión objetivo entre etapas
      
      2. ANÁLISIS DE FRICCIÓN:
         - Identifica los 3 principales puntos de abandono
         - Hipótesis sobre causas de abandono
         - Experimentos para reducir fricción
      
      3. OPTIMIZACIÓN:
         - Quick wins para mejorar conversión
         - Iniciativas a mediano plazo
         - Rediseños mayores si fueran necesarios`,
    
    'Sistema de Retroalimentación': `
      Para el "Sistema de Retroalimentación", diseña:
      
      1. CANALES DE FEEDBACK:
         - In-app: dónde y cuándo solicitar
         - Email: frecuencia y segmentación
         - Entrevistas: criterios de selección de usuarios
      
      2. PROCESAMIENTO:
         - Categorización de feedback
         - Priorización basada en frecuencia e impacto
         - SLA de respuesta por tipo de feedback
      
      3. CIERRE DEL LOOP:
         - Cómo comunicar cambios a usuarios
         - Programa de beta testers
         - Reconocimiento a contribuidores`,
    
    'Dashboard de Métricas': `
      Para el "Dashboard de Métricas", especifica:
      
      1. MÉTRICAS EN TIEMPO REAL:
         - Usuarios activos actuales
         - Transacciones/acciones en progreso
         - Estado de sistemas críticos
      
      2. MÉTRICAS DIARIAS:
         - Nuevos usuarios y activaciones
         - Engagement y retención
         - Revenue y métricas financieras
      
      3. TENDENCIAS Y PROYECCIONES:
         - Crecimiento MoM y YoY
         - Proyecciones basadas en tendencias
         - Alertas de desviaciones significativas`
  },
  
  aprender: {
    'Framework de Análisis': `
      Para el "Framework de Análisis", desarrolla:
      
      1. PROCESO DE ANÁLISIS:
         - Pasos específicos desde datos crudos hasta insights
         - Herramientas y técnicas de análisis
         - Roles y responsabilidades en el proceso
      
      2. CATEGORIZACIÓN DE INSIGHTS:
         - Validaciones: qué hipótesis se confirmaron
         - Refutaciones: qué hipótesis se rechazaron  
         - Descubrimientos: insights no anticipados
      
      3. PRIORIZACIÓN DE ACCIONES:
         - Matriz de impacto vs esfuerzo
         - Dependencias entre acciones
         - Timeline de implementación`,
    
    'Matriz de Aprendizajes': `
      Para la "Matriz de Aprendizajes", estructura:
      
      1. APRENDIZAJES POR CATEGORÍA:
         - Sobre el problema: ¿qué aprendimos?
         - Sobre la solución: ¿qué funciona y qué no?
         - Sobre el cliente: ¿qué los motiva realmente?
         - Sobre el modelo de negocio: ¿es viable?
      
      2. NIVEL DE CONFIANZA:
         - Alta confianza: validado con datos significativos
         - Media confianza: indicios pero necesita más validación
         - Baja confianza: hipótesis con evidencia limitada
      
      3. IMPLICACIONES:
         - Cambios necesarios en el producto
         - Ajustes en la estrategia
         - Nuevos experimentos requeridos`,
    
    'Validación de Hipótesis': `
      Para la "Validación de Hipótesis", evalúa:
      
      1. HIPÓTESIS PRINCIPAL:
         - Estado actual: validada/refutada/parcial
         - Evidencia que soporta la conclusión
         - Nivel de confianza en la conclusión
      
      2. HIPÓTESIS SECUNDARIAS:
         - Lista de todas las asunciones testeadas
         - Resultado de cada test
         - Impacto en la hipótesis principal
      
      3. DECISIÓN ESTRATÉGICA:
         - Continuar con ajustes menores
         - Pivotar parcialmente
         - Pivotar completamente
         - Abandonar`,
    
    'Identificación de Patrones': `
      Para la "Identificación de Patrones", analiza:
      
      1. PATRONES DE COMPORTAMIENTO:
         - Comportamientos recurrentes observados
         - Segmentación de usuarios por comportamiento
         - Triggers que generan cada comportamiento
      
      2. PATRONES DE USO:
         - Features más y menos utilizadas
         - Flujos de navegación comunes
         - Momentos de abandono recurrentes
      
      3. PATRONES DE FEEDBACK:
         - Temas recurrentes en comentarios
         - Solicitudes más frecuentes
         - Quejas y frustraciones comunes`,
    
    'Guía de Entrevistas': `
      Para la "Guía de Entrevistas", prepara:
      
      1. PROTOCOLO DE ENTREVISTA:
         - Guión de apertura y rapport
         - 10-15 preguntas abiertas principales
         - Preguntas de profundización
         - Cierre y siguientes pasos
      
      2. TÉCNICAS DE ENTREVISTA:
         - Cómo evitar sesgo de confirmación
         - Técnicas para profundizar (5 por qués)
         - Manejo de silencios y respuestas vagas
      
      3. ANÁLISIS POST-ENTREVISTA:
         - Template de síntesis
         - Codificación de temas
         - Identificación de insights clave`,
    
    'Plan de Iteración': `
      Para el "Plan de Iteración", define:
      
      1. PRIORIDADES DE ITERACIÓN:
         - Top 5 mejoras basadas en aprendizajes
         - Justificación con datos para cada una
         - Impacto esperado
      
      2. SPRINTS DE ITERACIÓN:
         - Plan para próximos 3 sprints
         - Objetivos específicos por sprint
         - Métricas de éxito por sprint
      
      3. PROCESO DE VALIDACIÓN:
         - Cómo validar cada iteración
         - Criterios para rollback
         - Documentación de resultados`
  },
  
  pivotar: {
    'Matriz de Decisión': `
      Para la "Matriz de Decisión", evalúa:
      
      1. OPCIONES DE PIVOTE:
         - Lista 3-5 direcciones posibles
         - Para cada una: descripción, hipótesis principal, cambios necesarios
      
      2. CRITERIOS DE EVALUACIÓN:
         - Tamaño de mercado potencial (puntuación 1-10)
         - Ajuste con capacidades actuales (1-10)
         - Velocidad de implementación (1-10)
         - Potencial de diferenciación (1-10)
         - Riesgo de ejecución (1-10)
      
      3. RECOMENDACIÓN:
         - Opción recomendada con justificación
         - Plan B si la primera opción falla
         - Criterios para evaluar éxito del pivote`,
    
    'Análisis de Oportunidades': `
      Para el "Análisis de Oportunidades", investiga:
      
      1. NUEVOS SEGMENTOS:
         - 3 segmentos alternativos identificados
         - Tamaño y características de cada uno
         - Problema específico que enfrentan
      
      2. NUEVAS SOLUCIONES:
         - Variaciones de la solución actual
         - Soluciones completamente diferentes
         - Tecnologías emergentes aplicables
      
      3. NUEVOS MODELOS DE NEGOCIO:
         - Modelos de monetización alternativos
         - Canales de distribución diferentes
         - Partnerships estratégicos potenciales`,
    
    'Plan de Transición': `
      Para el "Plan de Transición", detalla:
      
      1. FASE 1 - PREPARACIÓN (Semanas 1-2):
         - Comunicación interna del cambio
         - Reorganización de recursos
         - Preparación técnica inicial
      
      2. FASE 2 - IMPLEMENTACIÓN (Semanas 3-8):
         - Desarrollo del nuevo MVP
         - Migración de usuarios si aplica
         - Nuevos experimentos de validación
      
      3. FASE 3 - ESTABILIZACIÓN (Semanas 9-12):
         - Optimización basada en feedback
         - Escalamiento gradual
         - Medición de éxito del pivote`,
    
    'Comunicación de Cambios': `
      Para la "Comunicación de Cambios", prepara:
      
      1. STAKEHOLDERS INTERNOS:
         - Mensaje para el equipo: razones, visión, roles
         - Mensaje para inversores: datos, proyecciones, pedir apoyo
         - Mensaje para advisors: buscar guía específica
      
      2. STAKEHOLDERS EXTERNOS:
         - Clientes actuales: qué cambia, qué permanece, beneficios
         - Prospectos: nuevo posicionamiento
         - Partners: implicaciones de la relación
      
      3. TIMELINE DE COMUNICACIÓN:
         - Quién debe saber primero
         - Canales para cada audiencia
         - FAQs anticipadas`,
    
    'Redefinición de Mercado': `
      Para la "Redefinición de Mercado", analiza:
      
      1. NUEVO TAM/SAM/SOM:
         - Total Addressable Market del nuevo enfoque
         - Serviceable Addressable Market realista
         - Serviceable Obtainable Market a 1 año
      
      2. NUEVA COMPETENCIA:
         - Competidores directos en el nuevo espacio
         - Competidores indirectos y sustitutos
         - Ventaja competitiva en el nuevo contexto
      
      3. NUEVO POSICIONAMIENTO:
         - Propuesta de valor refinada
         - Mensajes clave diferenciadores
         - Estrategia de go-to-market`,
    
    'Validación Rápida': `
      Para la "Validación Rápida", diseña:
      
      1. EXPERIMENTO SMOKE TEST:
         - Landing page del nuevo enfoque
         - Métricas de interés a medir
         - Presupuesto para tráfico pagado
      
      2. PROTOTIPO RÁPIDO:
         - Funcionalidades core a prototipar
         - Herramientas no-code/low-code a usar
         - usuarios para test inicial
      
      3. CRITERIOS GO/NO-GO:
         - Métricas mínimas para proceder
         - Timeline para decisión
         - Plan si no se cumplen criterios`
  },
  
  iterar: {
    'Plan de Optimización': `
      Para el "Plan de Optimización", detalla:
      
      1. OPTIMIZACIONES DE PRODUCTO:
         - UX/UI: mejoras basadas en heatmaps y analytics
         - Performance: tiempos de carga, estabilidad
         - Features: pulir las existentes vs agregar nuevas
      
      2. OPTIMIZACIONES DE CRECIMIENTO:
         - Funnel: dónde hay mayor oportunidad
         - Canales: optimizar CAC por canal
         - Retención: reducir churn rate
      
      3. OPTIMIZACIONES OPERACIONALES:
         - Procesos internos a automatizar
         - Costos a reducir sin impactar calidad
         - Eficiencias en el equipo`,
    
    'Priorización RICE': `
      Para la "Priorización RICE", evalúa cada iniciativa:
      
      1. REACH (ALCANCE):
         - Número de usuarios impactados por período
         - Segmentos específicos beneficiados
         - Potencial viral o de crecimiento
      
      2. IMPACT (IMPACTO):
         - Escala: Masivo(3), Alto(2), Medio(1), Bajo(0.5), Mínimo(0.25)
         - Justificación del impacto estimado
         - Métricas que se verán afectadas
      
      3. CONFIDENCE (CONFIANZA):
         - Porcentaje de certeza en las estimaciones
         - Evidencia que soporta la confianza
         - Riesgos que reducen la confianza
      
      4. EFFORT (ESFUERZO):
         - Persona-semanas estimadas
         - Recursos necesarios
         - Dependencias y bloqueos potenciales`,
    
    'Roadmap de Iteración': `
      Para el "Roadmap de Iteración", planifica:
      
      1. MES 1 - QUICK WINS:
         - 5-7 mejoras de bajo esfuerzo y alto impacto
         - Objetivo: momentum y moral del equipo
         - Métricas: mejoras incrementales visibles
      
      2. MES 2-3 - MEJORAS SUSTANCIALES:
         - 3-4 iniciativas de mayor envergadura
         - Objetivo: mover métricas principales
         - Hitos específicos de entrega
      
      3. MES 4-6 - INNOVACIÓN:
         - 1-2 apuestas grandes
         - Objetivo: diferenciación y crecimiento
         - Criterios de éxito/fracaso claros`,
    
    'Matriz de Impacto': `
      Para la "Matriz de Impacto", mapea:
      
      1. ALTO IMPACTO + BAJO ESFUERZO:
         - Lista de todas las iniciativas en este cuadrante
         - Orden de implementación
         - Responsables asignados
      
      2. ALTO IMPACTO + ALTO ESFUERZO:
         - Iniciativas que requieren planificación
         - Fases de implementación
         - Recursos necesarios
      
      3. ANÁLISIS DE TRADE-OFFS:
         - Qué NO haremos y por qué
         - Costo de oportunidad de cada decisión
         - Revisión periódica de prioridades`,
    
    'Estrategia de Crecimiento': `
      Para la "Estrategia de Crecimiento", define:
      
      1. MOTORES DE CRECIMIENTO:
         - Viral: coeficiente viral actual y objetivo
         - Pagado: CAC/LTV por canal y optimización
         - Orgánico: SEO, contenido, comunidad
      
      2. EXPERIMENTOS DE CRECIMIENTO:
         - 10 experimentos priorizados
         - Hipótesis y métrica principal de cada uno
         - Recursos y timeline por experimento
      
      3. ESCALAMIENTO:
         - Triggers para escalar (métricas específicas)
         - Recursos necesarios para escalar
         - Riesgos de escalar prematuramente`,
    
    'Sistema de Feedback Loop': `
      Para el "Sistema de Feedback Loop", implementa:
      
      1. RECOLECCIÓN CONTINUA:
         - Fuentes de feedback automatizadas
         - Frecuencia de recolección
         - Herramientas y integraciones
      
      2. ANÁLISIS Y PRIORIZACIÓN:
         - Proceso semanal de revisión
         - Criterios de priorización
         - Comunicación de decisiones
      
      3. IMPLEMENTACIÓN Y MEDICIÓN:
         - Ciclos de desarrollo cortos
         - Medición de impacto post-implementación
         - Comunicación de resultados a usuarios`
  }
};

const getSpecificPrompt = (phase, artifactName) => {
  // Si existe un prompt específico, úsalo
  if (specificPrompts[phase] && specificPrompts[phase][artifactName]) {
    return specificPrompts[phase][artifactName];
  }
  
  // Si no, usa el prompt genérico
  return `
    Por favor, genera contenido detallado, práctico y personalizado para este artefacto.
    Incluye:
    1. Introducción al propósito del artefacto
    2. Análisis de la situación actual basado en la hipótesis
    3. Recomendaciones específicas y accionables
    4. Ejemplos concretos adaptados al contexto del negocio
    5. Próximos pasos claros
    
    Organiza tu respuesta en secciones con formato markdown para facilitar su lectura.`;
};

module.exports = {
  specificPrompts,
  getSpecificPrompt
};